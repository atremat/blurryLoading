{"version":3,"file":"commonHelpers.js","sources":["../src/img/valley.jpg","../src/js/randomImageAPI.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__b6e1542d__\"","import axios from 'axios';\n\n//  https://random.imagecdn.app/v1/docs\n\nexport async function getRandomImage() {\n  const BASE_URL = 'https://random.imagecdn.app/v1';\n  const END_POINT = '/image';\n  const url = `${BASE_URL}${END_POINT}`;\n\n  const res = await axios.get(url);\n  return res;\n}\n","import defaultImage from './img/valley.jpg'; //default image\nimport { getRandomImage } from './js/randomImageAPI'; //random image api\n\nconst refs = {\n  loadText: document.querySelector('.loading-text'),\n  bg: document.querySelector('.bg'),\n  changeBtn: document.querySelector('.change-image-button'),\n};\n\nconst TIMEOUT = 30;\nlet load;\nlet int;\n\nasync function changeImage() {\n  refs.changeBtn.classList.add('hidden');\n\n  load = 0;\n  int = setInterval(blurring, TIMEOUT);\n\n  try {\n    const response = await getRandomImage();\n    if (!response.statusText == 'OK') {\n      refs.bg.style.backgroundImage = `url(${defaultImage})`;\n    } else {\n      refs.bg.style.backgroundImage = `url(${response.data})`;\n    }\n  } catch (e) {\n    refs.bg.style.backgroundImage = `url(${defaultImage})`;\n  }\n\n  refs.bg.style.backgroundSize = 'cover';\n  refs.bg.style.backgroundPosition = 'center';\n\n  blurring();\n}\n\nfunction blurring() {\n  load++;\n  if (load > 99) {\n    clearInterval(int);\n    refs.changeBtn.classList.remove('hidden');\n  }\n  refs.loadText.innerHTML = `${load}%`;\n  refs.loadText.style.opacity = scale(load, 0, 100, 1, 0);\n  refs.bg.style.filter = `blur(${scale(load, 0, 100, 30, 0)}px)`;\n}\n\nfunction scale(number, inMin, inMax, outMin, outMax) {\n  return ((number - inMin) * (outMax - outMin)) / (inMax - inMin) + outMin;\n}\n\nchangeImage();\n\nrefs.changeBtn.addEventListener('click', changeImage);\n"],"names":["defaultImage","getRandomImage","url","axios","refs","TIMEOUT","load","int","changeImage","blurring","response","scale","number","inMin","inMax","outMin","outMax"],"mappings":"svBAAA,MAAeA,EAAA,4CCIR,eAAeC,GAAiB,CAGrC,MAAMC,EAAM,uCAGZ,OADY,MAAMC,EAAM,IAAID,CAAG,CAEjC,CCRA,MAAME,EAAO,CACX,SAAU,SAAS,cAAc,eAAe,EAChD,GAAI,SAAS,cAAc,KAAK,EAChC,UAAW,SAAS,cAAc,sBAAsB,CAC1D,EAEMC,EAAU,GAChB,IAAIC,EACAC,EAEJ,eAAeC,GAAc,CAC3BJ,EAAK,UAAU,UAAU,IAAI,QAAQ,EAErCE,EAAO,EACPC,EAAM,YAAYE,EAAUJ,CAAO,EAEnC,GAAI,CACF,MAAMK,EAAW,MAAMT,IACnB,CAACS,EAAS,YAAc,KAC1BN,EAAK,GAAG,MAAM,gBAAkB,OAAOJ,CAAY,IAEnDI,EAAK,GAAG,MAAM,gBAAkB,OAAOM,EAAS,IAAI,GAEvD,MAAW,CACVN,EAAK,GAAG,MAAM,gBAAkB,OAAOJ,CAAY,GACpD,CAEDI,EAAK,GAAG,MAAM,eAAiB,QAC/BA,EAAK,GAAG,MAAM,mBAAqB,SAEnCK,GACF,CAEA,SAASA,GAAW,CAClBH,IACIA,EAAO,KACT,cAAcC,CAAG,EACjBH,EAAK,UAAU,UAAU,OAAO,QAAQ,GAE1CA,EAAK,SAAS,UAAY,GAAGE,CAAI,IACjCF,EAAK,SAAS,MAAM,QAAUO,EAAML,EAAM,EAAG,IAAK,EAAG,CAAC,EACtDF,EAAK,GAAG,MAAM,OAAS,QAAQO,EAAML,EAAM,EAAG,IAAK,GAAI,CAAC,CAAC,KAC3D,CAEA,SAASK,EAAMC,EAAQC,EAAOC,EAAOC,EAAQC,EAAQ,CACnD,OAASJ,EAASC,IAAUG,EAASD,IAAYD,EAAQD,GAASE,CACpE,CAEAP,IAEAJ,EAAK,UAAU,iBAAiB,QAASI,CAAW"}